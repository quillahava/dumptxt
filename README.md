# dumptxt

Утилита для дампа структуры и содержимого файлов проекта.

## Возможности

- Строит дерево каталогов
- Извлекает текстовое содержимое файлов
- Пропускает бинарные/большие файлы и мусор
- Гибкая фильтрация через конфиг или CLI

## Установка

```bash
sudo make install
```

Удаление:

```bash
sudo make uninstall
```

## Конфигурация

По умолчанию используется `~/.config/dumptxt/config.toml`:

```toml
[ignore_list]
paths = ["__pycache__", ".git", "node_modules", ".next", "dist"]

[white_list]
paths = []
```

Можно задавать несколько секций, например:

```toml
[ignore_list.nextjs]
paths = [".next", "node_modules", "dist"]

[white_list.nextjs]
paths = ["pages", "app", "public"]

[ignore_list.rust]
paths = ["target", ".git"]

[white_list.rust]
paths = ["src", "Cargo.toml"]
```

Выбор секций через флаги `-i` и `-w`.

## Использование

```bash
dumptxt [опции] [директория]
```

Если директория не указана — используется текущая.

### Частые примеры

```bash
dumptxt ./project                  # Полный дамп структуры и содержимого
dumptxt -s ./project               # Только структура (без содержимого)
dumptxt -f py,js -m 512 ./project  # Только .py/.js, до 512 КБ
dumptxt -x -r ./project            # С бинарниками, сохранить base64
dumptxt -i nextjs -w nextjs ./app  # Использовать секции nextjs из config
dumptxt -E dist,.venv ./project    # Исключить по шаблонам
```

## Аргументы

| Флаг           | Описание                                                      |
| -------------- | ------------------------------------------------------------- |
| `-o <файл>`    | Имя выходного файла (по умолчанию: `<директория>_output.txt`) |
| `-x`           | Включить бинарные файлы                                       |
| `-r`           | Сохранять закодированные данные (base64 и пр.)                |
| `-E a,b`       | Исключить по шаблонам                                         |
| `-i <секция>`  | Использовать секцию `ignore_list.<секция>` из config.toml     |
| `-w <секция>`  | Использовать секцию `white_list.<секция>` из config.toml      |
| `-m <КБ>`      | Пропускать файлы больше указанного размера                    |
| `-f ext1,ext2` | Обрабатывать только указанные расширения                      |
| `-s`           | Только дерево каталогов (без содержимого файлов)              |
| `-d <глубина>` | Максимальная глубина рекурсии                                 |
| `-c <путь>`    | Путь к альтернативному config.toml                            |
| `-h`           | Показать справку                                              |

```

```

